<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<f:view xmlns:f="http://java.sun.com/jsf/core" 
        xmlns:af="http://xmlns.oracle.com/adf/faces/rich"
        xmlns:h="http://java.sun.com/jsf/html">
    <af:document title="Leilão Web" id="d1">
        <h:outputStylesheet library="css" name="app.css" />
        
        <div id="cabecalho">
            <ul id="menu-principal">
                <li>
                    <h:link value="Usuários" outcome="/usuarios.xhtml" />
                </li>
            </ul>
        </div>

        <div id="conteudo">
            <div id="container">

            <af:form id="f1">
                <h1>
                    <h:outputText value="Novo Usuário" 
                            rendered="#{empty usuarioBean.usuario.id}" />
    
                    <h:outputText value="Editar Usuário" 
                            rendered="#{not empty usuarioBean.usuario.id}" />
                </h1>
            
                <h:inputHidden value="#{usuarioBean.usuario.id}" />
            
                <h:outputLabel value="Nome" for="nome" />
                <h:inputText id="nome" value="#{usuarioBean.usuario.nome}"
                    styleClass="texto-longo" />
                <h:outputLabel value="Login" for="login"/>
                <h:inputText id="login" value="#{usuarioBean.usuario.login}" />
                <h:outputLabel value="Senha" for="senha"/>
                <h:inputSecret id="senha" value="#{usuarioBean.usuario.senha}" />

                <div class="acoes-principais">
                    <h:commandButton value="Salvar" action="#{usuarioBean.salva}"/>
                    &#160;
                    <h:commandLink value="Cancelar" action="#{usuarioBean.cancela}" />
                </div>
                
                <h:dataTable
                    value="#{usuarioBean.usuarios}" var="usuario"
                    styleClass="dados" rowClasses="impar, par">
                    <h:column>
                        <f:facet name="header">ID</f:facet>
                        #{usuario.id}
                    </h:column>
                    <h:column>
                        <f:facet name="header">Nome</f:facet>
                        #{usuario.nome}
                    </h:column>
                    <h:column>
                        <f:facet name="header">Login</f:facet>
                        #{usuario.login}
                    </h:column>
                    <h:column>
                        <f:facet name="header">Ações</f:facet>
                        <h:commandLink value="remover" action="#{usuarioBean.remove(usuario)}"/>
                        &#160;
                        <h:commandLink value="alterar">
                            <f:setPropertyActionListener value="#{usuario}" 
                                    target="#{usuarioBean.usuario}" />
                        </h:commandLink>
                    </h:column>
                </h:dataTable>
            </af:form>
            </div>
        </div>
        
        <div id="rodape"> 
            <div class="rodape-bar">
                <strong>Leilão Web</strong> - TriadWorks
            </div>
        </div>
    </af:document>
</f:view>